<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title><%= poem.title %></title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.0.0/dist/tailwind.min.css" rel="stylesheet">
</head>

<body class="bg-gray-900 text-gray-200 transition-colors duration-500">
    <!-- Dark Mode Toggle Button -->
    <div class="flex justify-end p-4">
        <button onclick="toggleTheme()" class="text-gray-200 focus:outline-none">
            <span id="theme-icon">üåô</span>
        </button>
    </div>

    <div class="container mx-auto p-5">
        <h1 class="text-4xl mb-4 text-center text-teal-400 font-bold animate-fade-in-down">
            <%= poem.title %>
        </h1>
        
        <% if (poem.image) { %>
            <div class="overflow-hidden rounded-md mb-6 shadow-lg transform transition duration-500 hover:scale-105">
                <img src="<%= poem.image %>" class="w-full h-96 object-cover transition duration-500 hover:scale-110">
            </div>
        <% } %>

        <p class="text-gray-300 text-lg mb-5 whitespace-pre-line leading-relaxed animate-fade-in">
            <%= poem.content %>
        </p>

        <div class="text-center">
            <a href="/poems" class="text-teal-400 hover:underline hover:text-teal-300 transition duration-300">
                ‚¨Ö Back to Poems
            </a>
        </div>
    </div>

    <!-- Dark Mode Toggle Script -->
    <script>
        const themeIcon = document.getElementById("theme-icon");
        const html = document.documentElement;

        const currentTheme = localStorage.getItem("theme");
        if (currentTheme === "dark") {
            html.classList.add("dark");
            themeIcon.textContent = "‚òÄÔ∏è";
        } else {
            themeIcon.textContent = "üåô";
        }

        function toggleTheme() {
            if (html.classList.contains("dark")) {
                html.classList.remove("dark");
                themeIcon.textContent = "üåô";
                localStorage.setItem("theme", "light");
            } else {
                html.classList.add("dark");
                themeIcon.textContent = "‚òÄÔ∏è";
                localStorage.setItem("theme", "dark");
            }
        }
    </script>

    <!-- Animations using Tailwind CSS -->
    <style>
        .animate-fade-in {
            animation: fade-in 1s ease-out forwards;
        }
        .animate-fade-in-down {
            animation: fade-in-down 1s ease-out forwards;
        }
        @keyframes fade-in {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes fade-in-down {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</body>

</html>
